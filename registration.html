<!DOCTYPE html>
<html>
	<head>
		<title>Registration</title>
		<link href="css/generalcss.css" type="text/css" rel="stylesheet"/>
        <script src="js/jquery-1.11.3.min.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="main">
			<div id="title">
				<h1>Create account</h1>
			</div>

			<div class="login">
				<fieldset>
					<div id="loginContent">
						<p>
						<input id="firstname" type="text" placeholder="First name:" />
						</p>
						<p>
						<input id="lastname" type="text" placeholder="Last name:" />
						</p>
						<p>
						<input id="email" type="text" placeholder="Email:"/> </p>
						<p>
						<p>
						<input id="username" type="text" placeholder="Username:" />
						</p>
						<input id="password" type="password" placeholder="Password:"/></p>
						<p>
						<input id="create" type="button" value="Create Account" /> <input id="loginButton" type="button" value="Login" /> </p>
					</div>
				</fieldset>
			</div>

		</div>
	</body>
</html>
<script type="text/javascript">
	$(document).on('ready', function() {


		$("#loginButton").on('click', function(){
			window.location.replace('login.html');
		});

		$("#create").on('click', function() {
			if ($("#name").val() == "" || $("#username").val() == "" || $("#password").val() == "") {
				alert("Please fill out all the fields.");
			} else {

				var jsonObject = {"email": $("#email").val(),
                          "password": $("#password").val(),
                        	"first": $("#firstname").val(),
                          "last": $("#lastname").val(),
                          "username": $("#username").val(),
                          "action": "REGISTER"};

				$.ajax({
                    type: "POST",
                    url: "data/applicationLayer.php",
                    dataType: "json",
                    data: jsonObject,
                    headers: {'Content-Type': 'application/x-www-form-urlencoded'},
                    success: function(jsonData) {
                        window.location.replace("login.html");
                    },
                    error: function(errorMsg){
                        alert("error");
                    }
                });

			}
		});

	});
</script>
